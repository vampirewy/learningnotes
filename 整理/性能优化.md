<!--
 * @Author: your name
 * @Date: 2020-06-19 09:49:30
 * @LastEditTime: 2020-06-19 14:53:15
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /learningnotes/整理/性能优化.md
-->

### 性能优化

#### 加速首屏渲染时间

1. 路由文件懒加载
2. 所有 js 文件不做预加载
3. 对于大文件采用压缩成 gzip 的形式(compression-webpack-plugin)
4. 开启浏览器缓存
5. 配置 nginx(http 中):
   - 开启 gzip on;
   - 设置 gzip_types text/plain text/css application/json application/x-javascript text/xml application/javascript text/javascript;
   - gzip_comp_level 5;(压缩等级，一般取中间值,等级太高会影响速

#### webpack 插件压缩 gzip 和 nginx 开启 gzip 有什么区别

1. webpack 在构建打包文件时，会将文件压缩成 gzip 后，可以直接保存在服务器上
2. nginx 会在请求时，对文件进行压缩
3. 使用 webpack 进行对大文件压缩成 gzip 的好处在于减少服务器的压力，以及节约请求返回时间；因为 nginx 请求服务器时需要对文件进行压缩后才返回

#### nginx 缓存策略
