<!--
 * @Description: 简单请求
 * @Author: wangyi
 * @Date: 2019-08-31 22:55:44
 * @LastEditTime: 2019-09-02 09:51:45
 * @LastEditors: Please set LastEditors
 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>简单请求</title>
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
</head>

<body>
  <p>这里是一个简单请求</p>
  <p class="text"></p>
  <button class="btn">发送请求</button>
  <script>
    $('.btn').click(() => {
      console.log('点击了');
      $.ajax({
        type: 'get',
        url: 'http://127.0.0.1:3000/simpleGet',
        xhrFields: {
          withCredentials: true //必须开启这个值，浏览器发送请求时带cookie
        },
        success: (res) => {
          $('.text').html(JSON.stringify(res));
        },
        error: (error) => {
          console.log(error);
        }
      });
    });
  </script>
</body>

</html>